<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ë³¸ì¸ì¸ì¦</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>
<body>
    <div th:replace="~{layouts/header.html}"></div>

<div id="bnk-chatbot-container" style="position: fixed; right: 20px; bottom: 20px; z-index: 9999;">
<div id="bnk-chatbot-slot"></div>
</div>
<main>
    <h1 style="text-align: center;">íšŒì›ê°€ì…</h1>
    <div class="stepper">
        <div class="step"><span class="dot">1</span>ì•½ê´€ë™ì˜</div>
        <div class="sep"></div>
        <div class="step active"><span class="dot">2</span>ë³¸ì¸ì¸ì¦</div>
        <div class="sep"></div>
        <div class="step"><span class="dot">3</span>ì •ë³´ì…ë ¥</div>
        <div class="sep"></div>
        <div class="step"><span class="dot">4</span>ê°€ì…ì™„ë£Œ</div>
    </div>

    <h2 style="margin: 18px 180px 0 ; font-size: 28px;">ë³¸ì¸ì¸ì¦</h2>
    <p style="color: #6b7280; margin: 5px 180px 10px;">ì•ˆì „í•œ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©ì„ ìœ„í•´ ë³¸ì¸ì¸ì¦ì„ ì§„í–‰í•´ì£¼ì„¸ìš”.</p>

    <form id="authForm" method="post" th:action="@{/member/auth/save}">
    <div class="form-card">
            <!-- ì¸ì¦ ë°©ì‹(ì¹´ë“œí˜•) -->
            <div class="verify-methods" role="tablist" aria-label="ì¸ì¦ ë°©ì‹ ì„ íƒ">
                <button type="button" id="method-phone" class="method-card" role="tab" aria-selected="false" aria-controls="panel-phone" aria-pressed="false">
                    <div class="m-title">
                        <span class="m-badge">ğŸªª</span>
                        <div>
                            <div class="m-name">íœ´ëŒ€í° ì¸ì¦</div>
                            <div class="m-sub">SMS ì¸ì¦ë²ˆí˜¸ë¡œ ë¹ ë¥¸ ì¸ì¦</div>
                        </div>
                    </div>
                    <ul class="m-list">
                        <li>ë³¸ì¸ ëª…ì˜ íœ´ëŒ€í° í•„ìš”</li>
                        <li>ì¸ì¦ë²ˆí˜¸ SMS ë°œì†¡</li>
                        <li>ì•½ 1-2ë¶„ ì†Œìš”</li>
                    </ul>
                </button>

                <button type="button" id="method-cert" class="method-card" role="tab" aria-selected="false" aria-controls="panel-cert" aria-pressed="false">
                    <div class="m-title">
                        <span class="m-badge1">âœ·</span>
                        <div>
                            <div class="m-name">ê¸ˆìœµì¸ì¦ì„œ</div>
                            <div class="m-sub">ì €ì¥ëœ ì¸ì¦ì„œë¡œ ì´ìš©</div>
                        </div>
                    </div>
                    <ul class="m-list">
                        <li>ê¸°ì¡´ ë°œê¸‰ë°›ì€ ì¸ì¦ì„œ</li>
                        <li>PC/ëª¨ë°”ì¼ ëª¨ë‘ ê°€ëŠ¥</li>
                        <li>ì¦‰ì‹œ ì¸ì¦ ì™„ë£Œ</li>
                    </ul>
                </button>
            </div>

            <!-- íœ´ëŒ€í° ì¸ì¦(í…Œì´ë¸” ë ˆì´ì•„ì›ƒ) -->
            <section id="panel-phone" class="auth-panel" role="tabpanel" aria-labelledby="method-phone" aria-hidden="true">
                <div class="form-card">
                    <table class="auth-table">
                        <tbody>
                        <!-- ì´ë¦„ / ìƒë…„ì›”ì¼ -->
                        <tr class="field">
                            <th scope="row" class="field-name">ì´ë¦„</th>
                            <td><input type="text" name="mname" class="input" placeholder="ì´ë¦„ ì…ë ¥"
                                       th:value="${auth?.mname}"></td>
                            <th scope="row"><label for="birthInput" class="field-label">ìƒë…„ì›”ì¼</label></th>
                            <td style="display:flex; align-items:center; gap:12px;">
                                <input id="birthInput" name="mbirth" type="text" class="input"
                                       placeholder="YYYY-MM-DD" required
                                       th:value="${auth?.mbirth}">
                            </td>
                        </tr>
                        <!-- ì„±ë³„ / í†µì‹ ì‚¬ -->
                        <tr class="field">
                            <th scope="row" class="field-name">ì„±ë³„</th>
                            <td>
                                <select name="mgender" class="input" required>
                                    <option>ì„ íƒ</option>
                                    <option value="M" th:selected="${auth?.mgender == 'M'}">ë‚¨ì„±</option>
                                    <option value="F" th:selected="${auth?.mgender == 'F'}">ì—¬ì„±</option>
                                </select>
                            </td>

                            <th scope="row" class="field-name">í†µì‹ ì‚¬</th>
                            <td>
                                <select name="mcarrier" class="input" required>
                                    <option>ì„ íƒ</option>
                                    <option value="SKT" th:selected="${auth?.mcarrier == 'SKT'}">SKT</option>
                                    <option value="KT" th:selected="${auth?.mcarrier == 'KT'}">KT</option>
                                    <option value="LGU+" th:selected="${auth?.mcarrier == 'LGU+'}">LGU+</option>
                                </select>
                            </td>
                        </tr>

                        <!-- íœ´ëŒ€í° ë²ˆí˜¸ / ì¸ì¦ë²ˆí˜¸ -->
                        <tr class="field">
                            <th scope="row"><label class="field-label">íœ´ëŒ€í°ë²ˆí˜¸</label></th>
                            <td>
                                <div class="field-row" style="display:flex; gap:8px;">
                                    <input type="text" name="mphone" class="input" placeholder="010-1234-5678">
                                    <button type="button" class="btn-register" id="btnPhoneReq" style="width:90px;">ì¸ì¦ìš”ì²­</button>
                                </div>
                            </td>

                            <th scope="row"><label class="field-label">ì¸ì¦ë²ˆí˜¸</label></th>
                            <td>
                                <div class="field-row" style="display:flex; gap:8px;">
                                    <input type="text" class="input" id="phoneCode" placeholder="ì¸ì¦ë²ˆí˜¸ ì…ë ¥" style="flex:1;">
                                    <button type="button" class="btn-register" id="btnPhoneVerify" style="width:90px;">í™•ì¸</button>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td colspan="4">
                                <div class="note-blue" style="margin-top:20px;">
                                    <span class="bullet" style="background-color:#2563eb;">!</span>
                                    ë³¸ì¸ ëª…ì˜ì˜ íœ´ëŒ€í°ìœ¼ë¡œë§Œ ì¸ì¦ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. íƒ€ì¸ ëª…ì˜ íœ´ëŒ€í° ì‚¬ìš© ì‹œ ì¸ì¦ì— ì‹¤íŒ¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="4">
                                <div class="helper-box">
                                    <div class="helper-title">ì•ˆë‚´ì‚¬í•­</div>
                                    <ul class="helper-list">
                                        <li>ì…ë ¥í•˜ì‹  ì •ë³´ëŠ” ë³¸ì¸í™•ì¸ ìš©ë„ë¡œë§Œ ì‚¬ìš©ë˜ë©° ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
                                        <li>í†µì‹ ì‚¬ ì ê²€ ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ë”°ë¼ ì¸ì¦ì´ ì§€ì—°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                                        <li>ì¸ì¦ë²ˆí˜¸ëŠ” 3ë¶„ê°„ ìœ íš¨í•˜ë©°, ì‹œê°„ ì´ˆê³¼ ì‹œ ì¬ì „ì†¡ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</li>
                                    </ul>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td colspan="4">
                                <div class="btns">
                                    <a th:href="@{/member/main}" class="btn-pressable"
                                       style="display:inline-block;box-sizing:border-box;width:50%;height:42px;line-height:42px;border-radius:8px;border:1px solid #D1D5DB;background-color:#fff;text-align:center;color:#111;text-decoration:none;">
                                        ì·¨ì†Œ
                                    </a>
                                    <button type="submit" class="btn-register next-link" id="btnNext" style="width: 50%">ë‹¤ìŒ</button>
                                </div>
                            </td>
                        </tr>

                        </tbody>
                    </table>
                </div>
            </section>

            <!-- ê¸ˆìœµì¸ì¦ì„œ(í…Œì´ë¸” ë ˆì´ì•„ì›ƒ) -->
            <section id="panel-cert" class="auth-panel" role="tabpanel" aria-labelledby="method-cert" aria-hidden="true" >
                <div class="form-card">
                    <table class="auth-table">
                        <tbody>
                        <tr>
                            <th scope="row" class="field-name"><h2 style="margin: 0;">ê¸ˆìœµì¸ì¦ì„œ ì¸ì¦</h2></th>
                        </tr>
                        <tr>
                            <td><p style="color:#4b5563; margin: 0 10px 0;">PC ë˜ëŠ” ëª¨ë°”ì¼ì— ì €ì¥ëœ ê¸ˆìœµì¸ì¦ì„œë¥¼ ì„ íƒí•˜ì—¬ ì¸ì¦ì„ ì§„í–‰í•´ì£¼ì„¸ìš”.</p></td>
                        </tr>
                        <tr>
                            <td colspan="4">
                                <div class="btns">
                                    <button type="button" class="btn-register" id="btnFinanceCert" style="width:720px;">
                                        ê¸ˆìœµì¸ì¦ì„œ ì„ íƒ
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="4">
                                <div class="helper-box">
                                    <div class="helper-title">ì•ˆë‚´ì‚¬í•­</div>
                                    <ul class="helper-list">
                                        <li>ì…ë ¥í•˜ì‹  ì •ë³´ëŠ” ë³¸ì¸í™•ì¸ ìš©ë„ë¡œë§Œ ì‚¬ìš©ë˜ë©° ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
                                        <li>í†µì‹ ì‚¬ ì ê²€ ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ë”°ë¼ ì¸ì¦ì´ ì§€ì—°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                                        <li>ì¸ì¦ë²ˆí˜¸ëŠ” 3ë¶„ê°„ ìœ íš¨í•˜ë©°, ì‹œê°„ ì´ˆê³¼ ì‹œ ì¬ì „ì†¡ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</li>
                                    </ul>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="note-blue" style="margin-top:20px;">
                                    <span class="bullet" style="background-color:#2563eb;">!</span>
                                    ì¸ì¦ì„œê°€ ì—†ëŠ” ê²½ìš° ì€í–‰/ê³µê³µê¸°ê´€ì—ì„œ ë°œê¸‰ í›„ ì´ìš©í•´ì£¼ì„¸ìš”.
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="btns">
                                    <a th:href="@{/member/main}" class="btn-pressable"
                                       style="display:inline-block;box-sizing:border-box;width:50%;height:42px;line-height:42px;border-radius:8px;border:1px solid #D1D5DB;background-color:#fff;text-align:center;color:#111;text-decoration:none;">
                                        ì·¨ì†Œ
                                    </a>
                                    <button type="submit" class="btn-register next-link" id="btnNext" style="width: 50%">ë‹¤ìŒ</button>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </form>
</main>

<!-- â–¼â–¼ ê¸ˆìœµì¸ì¦ì„œ ëª¨ë‹¬ í˜„ì¬ ë¯¸êµ¬í˜„ -->
<div id="certModal" aria-hidden="true">
  <div class="modal-backdrop" data-close-modal></div>
  <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="certModalTitle">
    <div class="modal-header">
      <h3 id="certModalTitle" style="margin:0;">ê¸ˆìœµì¸ì¦ì„œ ë¡œê·¸ì¸</h3>
      <button type="button" class="modal-close" title="ë‹«ê¸°" data-close-modal>&times;</button>
    </div>
    <div class="modal-body">
      <div class="field" style="margin-bottom:10px;">
        <label class="field-name" style="display:block; margin-bottom:6px;">ì¸ì¦ì„œ ì„ íƒ</label>
        <select class="input" id="certSelect">
          <option value="" hidden>ì¸ì¦ì„œë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
          <option value="cert_01">í™ê¸¸ë™ ê°œì¸ìš© ì¸ì¦ì„œ</option>
          <option value="cert_02">BNK ê¸°ì—…ìš© ì¸ì¦ì„œ</option>
        </select>
      </div>
      <div class="field">
        <label class="field-name" style="display:block; margin-bottom:6px;">ì¸ì¦ì„œ ë¹„ë°€ë²ˆí˜¸</label>
        <input type="password" class="input" id="certPw" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥">
      </div>
      <p style="margin:10px 0 0; color:#6b7280; font-size:13px;">* ë°ëª¨ìš© ì„ì‹œ í¼ì…ë‹ˆë‹¤. ì‹¤ì œ ì¸ì¦ ì—°ë™ ì „ê¹Œì§€ UI í™•ì¸ìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ì„¸ìš”.</p>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn-pressable" data-close-modal
        style="width:48%; height:42px; border:1px solid #D1D5DB; border-radius:8px; background:#fff;">
        ì·¨ì†Œ
      </button>
      <button type="button" class="btn-register" id="btnCertSubmit" style="width:48%;">í™•ì¸</button>
    </div>
  </div>
</div>

<script>
    // ì¸ì¦ íƒ­ ìŠ¤ìœ„ì¹˜
    (function () {
        const btnPhone = document.getElementById('method-phone');
        const btnCert  = document.getElementById('method-cert');
        const panelPhone = document.getElementById('panel-phone');
        const panelCert  = document.getElementById('panel-cert');

        function show(panelBtn, panelEl) {
            [btnPhone, btnCert].forEach(b => {
                const active = b === panelBtn;
                b.classList.toggle('active', active);
                b.setAttribute('aria-selected', String(active));
                b.setAttribute('aria-pressed', String(active));
            });

            [panelPhone, panelCert].forEach(p => {
                const on = p === panelEl;
                p.hidden = !on;
                p.setAttribute('aria-hidden', String(!on));
            });
        }

        btnPhone.addEventListener('click', () => show(btnPhone, panelPhone));
        btnCert.addEventListener('click',  () => show(btnCert, panelCert));

        [btnPhone, btnCert].forEach(b => {
            b.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    b.click();
                }
            });
        });

        btnPhone.click();
    })();
</script>

<script>
    // ì¸ì¦ìƒíƒœ
    const verifyState = { phone: false };

    // UI ì—…ë°ì´íŠ¸
    function updateVerifyUI() {
        const btn = document.getElementById("btnPhoneVerify");
        if (btn) btn.textContent = verifyState.phone ? "ì™„ë£Œ" : "í™•ì¸";
    }

    document.addEventListener("DOMContentLoaded", () => {
        const phoneInput  = document.querySelector('#panel-phone input[name="mphone"]');
        const phoneCode   = document.getElementById('phoneCode');
        const btnReq      = document.getElementById("btnPhoneReq");
        const btnVerify   = document.getElementById("btnPhoneVerify");

        if (!phoneInput || !phoneCode || !btnReq || !btnVerify) {
            console.error("í•„ìˆ˜ ì¸ì¦ ìš”ì†Œ ì—†ìŒ");
            return;
        }

        // ì¸ì¦ìš”ì²­
        btnReq.addEventListener("click", async () => {
            const phoneNumber = phoneInput.value.trim();

            if (!phoneNumber) {
                alert("íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                return;
            }

            try {
                const res = await fetch("/BNK/api/verification/sms/send", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ phoneNumber })
                });

                const data = await res.json();

                if (data.ok === true) {
                    alert("ì¸ì¦ë²ˆí˜¸ê°€ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.");
                    phoneCode.focus();
                } else {
                    alert(data.message || "ë°œì†¡ ì‹¤íŒ¨");
                }
            } catch (err) {
                console.error(err);
                alert("ì„œë²„ ì˜¤ë¥˜ ë°œìƒ");
            }
        });

        // ì¸ì¦í™•ì¸
        btnVerify.addEventListener("click", async () => {
            const phoneNumber = phoneInput.value.trim();
            const code        = phoneCode.value.trim();

            if (!code) {
                alert("ì¸ì¦ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                return;
            }

            try {
                const res = await fetch("/BNK/api/verification/sms/verify", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ phoneNumber, code })
                });

                const data = await res.json();

                if (data.ok === true) {
                    verifyState.phone = true;
                    updateVerifyUI();
                    alert("íœ´ëŒ€í° ì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
                } else {
                    verifyState.phone = false;
                    alert(data.message || "ì¸ì¦ ì‹¤íŒ¨");
                }
            } catch (err) {
                console.error(err);
                alert("ì„œë²„ ì˜¤ë¥˜ ë°œìƒ");
            }
        });

        // ë‹¤ìŒ ë²„íŠ¼ ì œì–´
        document.getElementById("authForm").addEventListener("submit", (e) => {
            if (!verifyState.phone) {
                e.preventDefault();
                alert("íœ´ëŒ€í° ì¸ì¦ì„ ì™„ë£Œí•´ì•¼ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
            }
        });
    });
</script>

<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ko.js"></script>

<script>
    flatpickr("#birthInput", {
        locale: "ko",
        dateFormat: "Y-m-d"
    });
</script>

<script>
    // ê¸ˆìœµì¸ì¦ì„œ ë²„íŠ¼ â†’ ëª¨ë‹¬ ì—´ê¸°
    (function () {
        const btn = document.getElementById("btnFinanceCert");
        const modal = document.getElementById("certModal");
        if (!btn || !modal) return;

        btn.addEventListener("click", () => {
            modal.setAttribute("aria-hidden", "false");
        });
    })();

    // ëª¨ë‹¬ ë‹«ê¸°
    document.querySelectorAll("[data-close-modal]").forEach(btn => {
        btn.addEventListener("click", () => {
            document.getElementById("certModal").setAttribute("aria-hidden", "true");
        });
    });

    // ëª¨ë‹¬ ë‚´ë¶€ "í™•ì¸" â†’ ê¸ˆìœµ ì¸ì¦ ì‹¤í–‰
    document.getElementById("btnCertSubmit").addEventListener("click", async () => {
        const certId = document.getElementById("certSelect").value;
        const pw = document.getElementById("certPw").value;

        if (!certId || !pw) {
            alert("ì¸ì¦ì„œë¥¼ ì„ íƒí•˜ê³  ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            return;
        }

        try {
            const res = await fetch("/BNK/member/api/finance-cert/start", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ certId, pw })
            });

            const data = await res.json();

            if (!data.ok) {
                alert(data.message || "ì¸ì¦ ì‹¤íŒ¨");
                return;
            }

            document.querySelector("input[name='mname']").value = data.name;
            document.querySelector("input[name='mbirth']").value = data.birth;
            document.querySelector("select[name='mgender']").value = data.gender;
            document.querySelector("select[name='mcarrier']").value = data.carrier;
            document.querySelector("input[name='mphone']").value = data.phone;

            // ëª¨ë‹¬ ë‹«ê¸°
            document.getElementById("certModal").setAttribute("aria-hidden", "true");

            alert("ê¸ˆìœµì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");

        } catch (e) {
            console.error(e);
            alert("ê¸ˆìœµì¸ì¦ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ");
        }
    });

    // ì½œë°± ìˆ˜ì‹  ì‹œ ìë™ ì…ë ¥ ë°˜ì˜
    (async function () {
        const params = new URLSearchParams(window.location.search);

        if (params.has("tx_id") && params.has("code")) {
            const txId = params.get("tx_id");
            const code = params.get("code");

            try {
                const res = await fetch(`/BNK/member/auth/finance-cert/callback?tx_id=${txId}&code=${code}`);
                const data = await res.json();

                if (!data.ok) {
                    alert("ê¸ˆìœµ ì¸ì¦ ì²˜ë¦¬ ì‹¤íŒ¨");
                    return;
                }

                // ì¸ì¦ì •ë³´ ìë™ ì…ë ¥
                document.querySelector("input[name='mname']").value = data.name;
                document.querySelector("input[name='mbirth']").value = data.birth;
                document.querySelector("select[name='mgender']").value = data.gender;
                document.querySelector("select[name='mcarrier']").value = data.carrier;
                document.querySelector("input[name='mphone']").value = data.phone;

                alert("ê¸ˆìœµì¸ì¦ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");

                history.replaceState({}, document.title, location.pathname);

            } catch (e) {
                console.error(e);
                alert("ê¸ˆìœµì¸ì¦ ì½œë°± ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ");
            }
        }
    })();
</script>
  <footer><div th:replace="~{layouts/footer.html}"></div></footer>
</body>

<style>
  main {
    width: 1200px;
    background: #F6F6F8;
    padding: 80px 20px;
    margin: 0 auto;
  }
  body {
    font-family: 'Noto Sans KR', 'ë§‘ì€ ê³ ë”•', sans-serif;
    background: #F6F6F8;
    color: #111827;
    line-height: 1.5;
  }
  .container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 28px 16px 40px;
  }
  /* stepper */
  .stepper {
    width: 800px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #f7f7f9;
    border: 1px solid #e5e7eb;
    border-radius: 999px;
    padding: 10px 20px;
  }
  .step {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #6b7280;
    font-weight: 600;
  }
  .step .dot {
    width: 28px;
    height: 28px;
    border-radius: 999px;
    display: grid;
    place-items: center;
    border: 1px solid #d1d5db;
    background: #fff;
    color: #6b7280;
    font-weight: 700;
  }
  .step.active {
    color: #111;
  }
  .step.active .dot {
    background: #d6001c;
    border-color: #d6001c;
    color: #fff;
  }
  .sep {
    width: 28px;
    height: 2px;
    background: #e5e7eb;
    border-radius: 2px;
  }
  /* input */
  .input {
    width: 100%;
    height: 44px;
    box-sizing: border-box;
    border: 1px solid #e5e7eb;
    border-radius: 10px;
    background: #fff;
    padding: 10px 12px;
    font-size: 14px;
    color: #111827;
    outline: none;
    transition: box-shadow .15s ease, border-color .15s ease;
  }
  .input:focus {
    border-color: #d1d5db;
    box-shadow: 0 0 0 3px rgba(214, 0, 28, .12);
  }
  /* buttons */
  .btns {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 22px;
  }

  a{ text-decoration:none; color:inherit; }

  .form-card{ background:#fff; border:1px solid #e5e7eb; border-radius:20px; box-shadow:0 10px 20px rgba(2,6,23,.06); padding:30px 20px 30px; margin:0 auto; max-width:800px; }

  .verify-methods{ display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-bottom:18px; }
  .method-card{ appearance:none; border:1px solid #E5E7EB; background:#fff; border-radius:12px; padding:30px; text-align:left; cursor:pointer; position:relative; transition:box-shadow .15s, border-color .15s; }
  .method-card:hover{ box-shadow:0 6px 18px rgba(2,6,23,.06); }
  .method-card.active{ border:2px solid #D6001C; box-shadow:0 6px 16px rgba(214,0,28,.12); }
  .m-title{ display:flex; gap:10px; align-items:center; margin-bottom:6px; }
  .m-badge,.m-badge1{ width:32px; height:32px; border-radius:8px; display:grid; place-items:center; color:#fff; font-size:16px; }
  .m-badge{ background:#F95654; }   /* ì•„ì´ì½˜ ë°°ê²½ */
  .m-badge1{ background:#095399; }
  .m-name{ font-weight:700; font-size:16px; }
  .m-sub{ font-weight:600; }
  .m-list{ margin:6px 0 28px 0; padding-left:18px; color:#4B5563; font-size:15px; line-height:1.4; }
  .m-list li{ list-style:disc; padding-top:5px; }

  /* í…Œì´ë¸” í¼ ê³µí†µ */
  .auth-table {
    width: 730px;
    height: 530px;
    border-collapse: separate;
    border-spacing: 0 12px;
  }

  .auth-table th {
    text-align: left;
    vertical-align: middle;
    padding: 4px 0 4px 10px;
    width: 90px;
    font-size: 14px;
    font-weight: 600;
    color: #374151;
  }

  .auth-table td {
    padding-right: 10px;
    vertical-align: middle;
  }

  .field-label{ font-weight:700; }

  .note-blue{ display:flex; align-items:center; gap:8px; min-height:44px; padding:10px 12px; border:1px solid #C7D2FE; background:#EFF6FF; color:#1E40AF; border-radius:10px; font-size:13px; }
  .bullet{ width:18px; height:18px; border-radius:50%; color:#fff; font-weight:700; display:flex; align-items:center; justify-content:center; font-size:12px; }

  .helper-box{ margin-top:20px; background:#FFFBEB; border:1px solid #FDE68A; border-radius:12px; padding:14px 16px; }
  .helper-title{ font-weight:700; color:#92400E; margin-bottom:6px; }
  .helper-list{ margin:0; padding-left:18px; color:#92400E; font-size:13px; }
  .helper-list li{ list-style:disc; line-height:1.5; }

  /* ëª¨ë‹¬ */
  #certModal[aria-hidden="true"] { display:none; }
  #certModal[aria-hidden="false"] { display:block; }
  #certModal .modal-backdrop{
    position:fixed; inset:0; background:rgba(0,0,0,.45); backdrop-filter: blur(2px);
  }
  #certModal .modal-dialog{
    position:fixed; left:50%; top:50%; transform:translate(-50%,-50%);
    width: 520px; max-width: 92vw;
    background:#fff; border:1px solid #e5e7eb; border-radius:16px;
    box-shadow: 0 20px 60px rgba(2,6,23,.2); padding: 18px;
  }
  #certModal .modal-header{
    display:flex; align-items:center; justify-content:space-between; margin-bottom:8px;
  }
  #certModal .modal-close{
    width:32px; height:32px; border-radius:8px; border:1px solid #e5e7eb; background:#fff; cursor:pointer;
  }
  #certModal .modal-body{ padding: 6px 2px; }
  #certModal .modal-footer{ display:flex; gap:10px; margin-top:14px; }
</style>
</html>