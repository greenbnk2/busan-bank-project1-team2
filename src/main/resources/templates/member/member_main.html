<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ë¡œê·¸ì¸ ë©”ì¸</title>
</head>
<body>
    <div th:replace="~{layouts/header.html}"></div>

<div id="bnk-chatbot-container" style="position: fixed; right: 20px; bottom: 20px; z-index: 9999;">
<div id="bnk-chatbot-slot"></div>
</div>
<main>
  <div class="container">
    <!-- ë¡œê·¸ì¸ í¼ -->
    <section style="width: 580px; margin: 0 auto; margin-top: 30px;">

      <!-- ê°ì‹¸ê¸° -->
      <div class="form-card" style="height: 720px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; line-height: 1.6;">

      <form th:action="@{/member/main}" th:object="${userDTO}" method="post">
        <!-- ë¡œê·¸ì¸ í…Œì´ë¸” -->
        <table class="login-table">
          <tr style="font-size: 25px;">
            <td>ë¡œê·¸ì¸</td>
          </tr>
          <tr>
            <td style="padding: 0 0 9px;">BNK ë¶€ì‚°ì€í–‰ì€ ê³ ê°ë‹˜ì˜ ì •ë³´ë¥¼ ì†Œì¤‘íˆ ë³´í˜¸í•©ë‹ˆë‹¤</td>
          </tr>
          <tr class="field-row">
            <td class="field-label">ì•„ì´ë””</td>            
          </tr>
          <tr class="field-row">
            <td style="margin-bottom: 9px;">
                <input type="text" th:field="*{mid}" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”" autocomplete="username">
            </td>
          </tr>
          <tr class="field-row">
            <td class="field-label">ë¹„ë°€ë²ˆí˜¸</td>
          </tr>
          <tr class="field-row">
            <td style="margin-bottom: 19px;">
                <input type="password" th:field="*{mpw}" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" autocomplete="current-password">
            </td>
          </tr>

            <tr>
                <td class="field-td" style="border-bottom: 1px solid #ddd;">
                  <button id="loginBtn" class="btn-pressable btn-sheen" style="box-sizing:border-box;width:500px;height:42px;border:none;border-radius:8px; cursor:pointer;border:1px solid #D1D5DB;background-color:white;">
                    ë¡œê·¸ì¸
                  </button>
                </td>
            </tr>
            <tr>
                <td class="field-td">
                    <button class="btn-register" style="width: 500px;">ê³µì¸ì¸ì¦ì„œ ë¡œê·¸ì¸</button>
                </td>
            </tr>
            <tr>
                <td class="field-td">
                    <a th:href="@{/member/findid}">ì•„ì´ë”” ì°¾ê¸°</a>
                    <span class="sep-dot">Â·</span>
                    <a th:href="@{/member/findpw}">ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</a>
                    <span class="sep-dot">Â·</span>
                    <a th:href="@{/member/terms}">íšŒì›ê°€ì…</a>
                </td>
            </tr>

          <tr class="notice">
            <td style="text-align: left; color: #444; font-size: 15px; line-height: 1.6;">
              <span>ğŸ”’ ë³´ì•ˆ ì•ˆë‚´</span><br>
              â€¢ ê°œì¸ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•´ ê³µìš© PCì—ì„œëŠ” ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ë¥¼ í•´ì œí•˜ì„¸ìš”.<br>
              â€¢ ë¹„ë°€ë²ˆí˜¸ëŠ” ì •ê¸°ì ìœ¼ë¡œ ë³€ê²½í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
            </td>
          </tr>
        </table>
      </form>
      </div>
    </section>
  </div>
</main>

    <!--
    - ë¡œê·¸ì¸ì‹œ ë¡œê·¸ì•„ì›ƒ í¼ ì„¤ì •
    - í˜„ì¬ : ë¡œê·¸ì¸ â†’ ë©”ì¸ í˜ì´ì§€ ì´ë™ â†’ member_mainë¡œ ë„˜ì–´ì˜¤ì§€ ëª»í•˜ë„ë¡ ë§‰ìŒ
            <tr th:if="${loginUser != null}">
                <td class="field-td">
                    <button type="button" class="btn-register" style="width: 500px;" onclick="logoutUser()">
                        ë¡œê·¸ì•„ì›ƒ
                    </button>
                </td>
            </tr>
    // ë¡œê·¸ì•„ì›ƒ í™•ì¸ ëª¨ë‹¬
    <div th:if="${loginUser != null}" id="logoutModal" class="modal" style="display:none;">
        <div class="modal-content">
            <p>ì •ë§ ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
            <div class="modal-buttons">
                <button id="confirmLogout" class="btn-register">ì˜ˆ</button>
                <button id="cancelLogout" class="btn-pressable btn-sheen" style="box-sizing:border-box;width:90px;height:42px; border-radius:8px; cursor:pointer;border:1px solid #D1D5DB;background-color:white;">ì•„ë‹ˆì˜¤
                </button>
            </div>
        </div>
    </div>
    // ë¡œê·¸ì•„ì›ƒ ëª¨ë‹¬ ìŠ¤í¬ë¦½íŠ¸
    <script>
        function logoutUser() {
            document.getElementById('logoutModal').style.display = 'flex';
        }

        const confirmLogoutBtn = document.getElementById('confirmLogout');
        const cancelLogoutBtn = document.getElementById('cancelLogout');

        confirmLogoutBtn.addEventListener('click', () => {
            fetch('/BNK/member/logout', { method: 'GET' })
                .then(response => {
                    if (response.ok) {
                        alert('ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.');
                        location.reload();
                    } else {
                        alert('ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨: ì„œë²„ ì‘ë‹µ ì˜¤ë¥˜ (' + response.status + ')');
                    }
                })
                .catch(error => {
                    console.error('ë¡œê·¸ì•„ì›ƒ ì¤‘ ì˜¤ë¥˜:', error);
                    alert('ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨: ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜');
                })
                .finally(() => {
                    document.getElementById('logoutModal').style.display = 'none';
                });
        });

        cancelLogoutBtn.addEventListener('click', () => {
            document.getElementById('logoutModal').style.display = 'none';
        });
    </script>
    -->

    <footer><div th:replace="~{layouts/footer.html}"></div></footer>
</body>

<style>
  main {
    width: 1200px;
    background-color: #F6F6F8;
    padding: 80px 20px;
    margin: 0 auto;
  }
  body {
    font-family: 'Noto Sans KR', 'ë§‘ì€ ê³ ë”•', sans-serif;
    background: #F6F6F8;
    color: #111827;
    line-height: 1.5;
  }
  .container { max-width: 1200px; margin: 0 auto; padding: 28px 16px 40px; }

  a { text-decoration: none; color: inherit; }

  .input:focus,
  .field-row input:focus,
  .field-td input:focus {
    border-color: #d1d5db;
    box-shadow: 0 0 0 3px rgba(214,0,28,.12);
    outline: none;
  }

  /* ê°ì‹¸ëŠ” */
  .form-card {
    background: #fff;
    border: 1px solid #e5e7eb;
    border-radius: 20px;
    box-shadow: 0 10px 20px rgba(2,6,23,.06);
    padding: 28px 30px;
    margin-bottom: 24px;
  }

  .field-td {
    text-align: center;
    padding: 10px;
  }

  .field-td input {
    width: 400px;
    height: 44px;
    border: 1px solid #e5e7eb;
    border-radius: 10px;
    box-sizing: border-box;
    padding: 0 12px;
    outline: none;
  }  
  .sep-dot{ margin: 0 8px; }

  .notice {
    margin-top: 15px;
    background: #eef4ff;
    border: 1px solid #c7d7ff;
    color: #1f3b8f;
    border-radius: 12px;
    padding: 20px 30px;
    display: flex;
    gap: 8px;
  }

  .field-row {
    display: flex;
    margin: 5px;
  }

  .field-row input {
    width: 500px;
    height: 25px;
    border: 1px solid #bbb;
    padding: 10px;
    border-radius: 10px;
  }

  .field-label {
    font-size: 18px;
  }
  /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ ì¶”ê°€ */
  .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.4);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10000;
  }

  .modal-content {
      background: #fff;
      border-radius: 15px;
      padding: 30px 40px;
      text-align: center;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      width: 360px;
      animation: popUp 0.2s ease;
  }

  @keyframes popUp {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
  }

  .modal-content p {
      font-size: 18px;
      margin-bottom: 20px;
  }

  .modal-buttons {
      display: flex;
      justify-content: space-around;
      gap: 10px;
  }

  .btn-confirm, .btn-cancel {
      width: 120px;
      padding: 10px 0;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 15px;
  }

  .btn-confirm {
      background-color: #D6001C;
      color: white;
  }

  .btn-cancel {
      background-color: #ccc;
  }

  .btn-confirm:hover { background-color: #b8001b; }
  .btn-cancel:hover { background-color: #b3b3b3; }

</style>
</html>
