<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>퇴직연금(개인형IRP) 2페이지 - 상품가입</title>

    <style>
        body {
            margin: 0;
            font-family: 'Pretendard', 'Noto Sans KR', sans-serif;
            background: #F6F6F8;
            color: #222;
        }

        main {
            min-height: calc(100vh - 200px);
        }

        /* ===== 공통 레이아웃 ===== */
        .irp-join-wrap {
            max-width: 480px;
            margin: 40px auto 100px;
            padding: 0 20px 40px;
            background: #FFFFFF;
            border-radius: 24px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.05);
        }

        /* ===== 상단 타이틀 ===== */
        .page-top {
            padding: 20px 4px 10px;
            border-bottom: 1px solid #F0F0F0;
            margin-bottom: 20px;
        }

        .page-title {
            font-size: 18px;
            font-weight: 600;
        }

        /* 상품 이름 / 설명 */
        .product-area {
            padding: 10px 4px 20px;
            border-bottom: 1px solid #F0F0F0;
        }

        .product-name-ko {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .product-name-en {
            font-size: 11px;
            color: #888;
            margin-bottom: 14px;
        }

        .product-desc {
            font-size: 13px;
            color: #555;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .product-desc + .product-desc {
            margin-top: 4px;
        }

        /* ===== 운용목적 선택 ===== */
        .section-title {
            font-size: 14px;
            font-weight: 600;
            margin: 22px 4px 10px;
        }

        .purpose-box {
            border-radius: 12px;
            background: #FAFAFC;
            padding: 12px 10px 10px;
        }

        .purpose-option {
            display: flex;
            align-items: center;
            padding: 10px 8px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 13px;
        }

        .purpose-option + .purpose-option {
            margin-top: 4px;
        }

        .purpose-option input[type="radio"] {
            display: none;
        }

        .purpose-check {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid #C3C8D0;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 8px;
            box-sizing: border-box;
        }

        .purpose-check-inner {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: transparent;
        }

        .purpose-label {
            flex: 1;
        }

        /* 선택된 상태 */
        .purpose-option input[type="radio"]:checked + .purpose-check .purpose-check-inner {
            background: #3F7FFB;
        }
        .purpose-option input[type="radio"]:checked + .purpose-check {
            border-color: #3F7FFB;
        }
        .purpose-option input[type="radio"]:checked ~ .purpose-label {
            color: #2155D8;
            font-weight: 600;
        }

        /* ===== 꼭 알아두세요 ===== */
        .notice-area {
            margin-top: 20px;
            padding: 14px 10px 6px;
            border-radius: 12px;
            background: #F9F9FB;
            font-size: 11px;
            color: #777;
            line-height: 1.6;
        }

        .notice-title {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .notice-list {
            padding-left: 12px;
            margin: 0;
        }

        .notice-list li {
            margin-bottom: 4px;
        }

        /* ===== 하단 버튼 영역 ===== */
        .bottom-actions {
            margin-top: 24px;
            display: flex;
            gap: 8px;
        }

        .bottom-btn {
            flex: 1;
            padding: 12px 0;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 600;
            border: none;
            cursor: pointer;
        }

        .btn-chat {
            background: #E6EDFF;
            color: #2155D8;
        }

        .btn-join {
            background: #3F7FFB;
            color: #FFFFFF;
        }

        .btn-chat:hover {
            background: #D3E1FF;
        }

        .btn-join:hover {
            background: #2E69E5;
        }
    </style>
</head>
<body>
<header>
    <div th:replace="~{layouts/header.html}"></div>
</header>

<main>
    <section class="irp-join-wrap">
        <!-- 상단 타이틀 -->
        <div class="page-top">
            <div class="page-title">상품가입</div>
        </div>

        <!-- 상품 정보 영역 -->
        <div class="product-area">
            <div class="product-name-ko">개인형IRP</div>
            <div class="product-name-en">Individual Retirement Pension</div>

            <p class="product-desc">
                퇴직금 또는 본인이 자유롭게 납입한 자금을 직접 운용, 관리하여
                세액공제 혜택과 향후 연금으로 지급받을 수 있는 상품입니다.
            </p>
            <p class="product-desc">
                근로자(근로기간 1년 미만 또는 단기간 근무자 포함), 개인사업자,
                지역연금 가입자(영업용, 군인, 사립교직원) 등 소득이 있는 누구나
                개인형IRP에 가입할 수 있습니다.
            </p>
        </div>

        <!-- 운용목적 선택 -->
        <h2 class="section-title">운용목적선택</h2>
        <div class="purpose-box">
            <label class="purpose-option">
                <input type="radio" name="purpose" value="retirement" checked>
                <span class="purpose-check">
                    <span class="purpose-check-inner"></span>
                </span>
                <span class="purpose-label">퇴직금 수령목적</span>
            </label>

            <label class="purpose-option">
                <input type="radio" name="purpose" value="retirement_plus">
                <span class="purpose-check">
                    <span class="purpose-check-inner"></span>
                </span>
                <span class="purpose-label">퇴직금 수령 + 개인납입금 세액공제 목적</span>
            </label>
        </div>

        <!-- 꼭 알아두세요 -->
        <div class="notice-area">
            <div class="notice-title">꼭 알아두세요!</div>
            <ul class="notice-list">
                <li>퇴직금 수령 후 바로 해지를 원하시는 경우, 매니저와의 상담(운용 관련 안내)을 통해
                    운용 목적 선택 시 필수적으로 가입 절차를 거칩니다.</li>
                <li>중도 인출 또는 해지 시 세액공제 받은 금액에 대해 기타소득세가 부과될 수 있습니다.</li>
                <li>운용 성과에 따라 원금 손실이 발생할 수 있으며, 가입 전 상품설명서와 약관을 반드시 확인하시기 바랍니다.</li>
            </ul>
        </div>

        <!-- 상품 설명/운용목적/알아두세요 박스들 **아래쪽**에 위치시키면 됨 -->
        <div class="bottom-actions">
            <button type="button" class="bottom-btn btn-chat">
                채팅상담
            </button>
            <button id="btnIrpNext" type="button" class="bottom-btn btn-join"
                    th:onclick="|location.href='@{/irp/account/confirm}'|">
                가입하기
            </button>
        </div>
    </section>
</main>
<footer>
    <div th:replace="~{layouts/footer.html}"></div>
</footer>
</body>
</html>


<script>
    document.addEventListener('DOMContentLoaded',function (){
        const nextBtn = document.getElementById('btnIrpNext');
        if(!nextBtn) return;

        nextBtn.addEventListener('click', function(){
            const selected = document.querySelector('input[name="purpose"]:checked');

            //아무것도 선택 안했으면 알림후 리턴
            if(!selected){
                alert("운용목적을 선택해주세요");
                return;
            }

            //선택돼 있으묜 다음페이지로 이동
            window.location.href = '/BNK/irp/account/page3';
        });
    });
</script>