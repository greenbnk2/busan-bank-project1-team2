<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>í‡´ì§ì—°ê¸ˆ ê¸°ì—…ë±…í‚¹ - ê¸°ì—… ë©”ì¸</title>

    <!-- Pretendard -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">

    <style>
        /* ---------------------- ê³µí†µ ë ˆì´ì•„ì›ƒ ---------------------- */
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: "Noto Sans KR", system-ui, -apple-system, sans-serif;
            background-color: #f4f5f9;
            color: #222;
        }

        .page-container {
            max-width: 1100px;
            margin: 40px auto;
            padding: 24px;
        }

        h1 {
            margin: 0 0 16px;
            font-size: 24px;
        }

        .subtitle {
            font-size: 15px; /* ê¸°ì¡´ 13px â†’ 15px */
            color: #777;
            margin-bottom: 24px;
        }

        /* ---------------------- ê²€ìƒ‰/í•„í„° ì˜ì—­ ---------------------- */
        .toolbar {
            display: flex;
            gap: 12px;
            align-items: center;
            margin-bottom: 16px;
        }

        .toolbar input[type="text"],
        .toolbar select {
            padding: 8px 10px;
            border-radius: 6px;
            border: 1px solid #ccc;
            font-size: 15px; /* ê¸°ì¡´ 14px â†’ 15px */
        }

        .toolbar input[type="text"] {
            flex: 1;
        }

        .toolbar button {
            padding: 8px 14px;
            border-radius: 6px;
            border: none;
            font-size: 15px; /* ê¸°ì¡´ 14px â†’ 15px */
            cursor: pointer;
            background-color: #d91a1a;
            color: white;
        }

        .toolbar button:hover {
            opacity: 0.9;
        }

        /* ---------------------- ì¹´ë“œ ê³µí†µ ---------------------- */
        .card {
            background-color: white;
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.06);
            margin-bottom: 20px;
        }

        .summary-wrapper {
            display: flex;
            gap: 16px;
            margin-top: 20px;
        }

        .summary-card {
            flex: 1;
            background: white;
            padding: 16px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.06);
        }

        .summary-title {
            font-size: 15px; /* ê¸°ì¡´ 14px â†’ 15px */
            color: #777;
            margin-bottom: 6px;
        }

        .summary-icon {
            font-size: 26px;
            margin: 6px 0;
        }

        .summary-value {
            font-size: 20px;
            font-weight: 700;
        }

        /* ---------------------- 2ë‹¨ ê·¸ë¦¬ë“œ ---------------------- */
        .section-row {
            display: flex;
            gap: 16px;
            margin-top: 40px;
        }

        .card-box {
            background: white;
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.06);
        }

        .news-item {
            display: flex;
            justify-content: space-between;
            font-size: 15px; /* ê¸°ì¡´ 13px â†’ 15px */
            padding: 6px 0;
        }

        .tag-notice {
            padding: 2px 8px;
            font-size: 15px; /* ê¸°ì¡´ 11px â†’ 15px */
            border-radius: 999px;
            background: #ffe4e4;
            color: #d91a1a;
            margin-right: 6px;
        }

        /* ---------------------- ê³ ê°ì„¼í„° ---------------------- */
        .contact-box {
            display: flex;
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.06);
            margin-top: 16px;
            gap: 20px;
        }

        .contact-col {
            flex: 1;
            border-right: 1px solid #eee;
        }

        .contact-title {
            font-size: 15px; /* ê¸°ì¡´ 14px â†’ 15px */
            font-weight: 600;
            margin-bottom: 6px;
        }

        .contact-number {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        /* ---------------------- ë°˜ì‘í˜• ---------------------- */
        @media (max-width: 900px) {
            .summary-wrapper,
            .section-row,
            .contact-box {
                flex-direction: column;
            }

            .contact-col {
                border-right: none !important;
            }
        }


        /* ê³ ê°ì§€ì› ì¹´ë“œ 6ì¹¸ */
        .support-card {
            display: grid;
            grid-template-columns: 1fr 1fr;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            border: 1px solid #eee;
        }

        /* ê° ë°•ìŠ¤ */
        .support-item {
            padding: 26px 10px;
            font-size: 15px; /* ìµœì†Œ 15px ìœ ì§€ */
            text-align: center;
            border-right: 1px solid #eee;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: all 0.15s ease-in-out;
            background: #fff;
        }

        /* ì˜¤ë¥¸ìª½ ë border ì œê±° */
        .support-item:nth-child(2n) {
            border-right: none;
        }

        /* ë§ˆì§€ë§‰ ë‘ ì¹¸ border ì œê±° (í•˜ë‹¨) */
        .support-item:nth-last-child(-n + 2) {
            border-bottom: none;
        }

        /* hover íš¨ê³¼ */
        .support-item:hover {
            background: #fff5f5; /* ì—°í•œ ë¹¨ê°• ë°°ê²½ */
            color: #d91a1a; /* ë¹¨ê°„ ê¸€ì */
        }

        /* ================= ìë™ì™„ì„± ë°•ìŠ¤ ================= */
        .auto-box {
            position: absolute;
            background: white;
            border: 1px solid #ddd;
            border-radius: 6px;
            width: 100%; /* ğŸ”¥ input ë„ˆë¹„ ê·¸ëŒ€ë¡œ */
            max-height: 200px;
            overflow-y: auto;
            z-index: 5000;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
            font-size: 15px;
            top: 42px; /* ğŸ”¥ input ë°”ë¡œ ì•„ë˜ */
            left: 0; /* ğŸ”¥ input ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ */
        }


        .auto-item {
            padding: 8px 12px;
            cursor: pointer;
        }

        .auto-item:hover {
            background: #fff5f5;
            color: #d91a1a;
        }


    </style>
</head>

<body>

<!-- ğŸ”¥ corporate_header.html ë¡œë“œ (ì‚¬ì´ë“œë°”+í–„ë²„ê±° í¬í•¨) -->
<div th:replace="~{layouts/corporate_header.html}"></div>


<!-- ---------------------- ë©”ì¸ ì»¨í…ì¸  ---------------------- -->
<div class="page-container">

    <h1>í‡´ì§ì—°ê¸ˆ ì§ì› ì¡°íšŒ</h1>
    <div class="subtitle">
        EMPLOYEE í…Œì´ë¸” ê¸°ë°˜ìœ¼ë¡œ ì§ì›ë³„ ì œë„ ìœ í˜•, ê³„ì¢Œë²ˆí˜¸, í˜„ì¬ ì ë¦½ê¸ˆì„ ì¡°íšŒí•˜ëŠ” í™”ë©´ì…ë‹ˆë‹¤.
    </div>

    <!-- ê²€ìƒ‰ì°½ ì˜ì—­ -->
    <form method="get" th:action="@{/corporate/employee/list}">

        <div class="toolbar" style="position:relative;">   <!-- ìë™ì™„ì„± Box ì˜¬ë¦¬ê¸° ìœ„í•´ relative -->

            <!-- ğŸ” ê²€ìƒ‰ì°½ -->
            <input type="text"
                   name="keyword"
                   id="searchKeyword"
                   th:value="${keyword}"
                   placeholder="ì§ì› ì´ë¦„ ë˜ëŠ” ê³„ì¢Œë²ˆí˜¸ ê²€ìƒ‰">

            <!-- ğŸ”¥ ìë™ì™„ì„± ë°•ìŠ¤ (ì—¬ê¸° ì¶”ê°€!) -->
            <div id="autoBox" class="auto-box" style="display:none;"></div>

            <select name="planType">
                <option value="" th:selected="${planType == ''}">ì „ì²´ ì œë„</option>
                <option value="DB" th:selected="${planType == 'DB'}">DB ì œë„ë§Œ</option>
                <option value="DC" th:selected="${planType == 'DC'}">DC ì œë„ë§Œ</option>
            </select>

            <button type="submit">ê²€ìƒ‰</button>
            <button type="button" onclick="location.href='/BNK/corporate/employee/list'">ì´ˆê¸°í™”</button>

        </div>
    </form>




    <!-- ëŒ€ì‹œë³´ë“œ -->
    <h2 style="margin-top:40px;">ê¸°ì—… ë©”ì¸ ëŒ€ì‹œë³´ë“œ</h2>
    <p style="color:#777;">í‡´ì§ì—°ê¸ˆ ê¸°ì—… ê³„ì • ìš”ì•½ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>

    <div class="summary-wrapper">

        <div class="summary-card">
            <div class="summary-title">ì „ì²´ ì§ì› ìˆ˜</div>
            <div class="summary-icon">ğŸ‘¥</div>
            <div class="summary-value" th:text="${totalEmployees} + ' ëª…'">128 ëª…</div>
        </div>

        <div class="summary-card">
            <div class="summary-title">ì „ì²´ ì ë¦½ê¸ˆ ì´ì•¡</div>
            <div class="summary-icon">ğŸ’°</div>
            <div class="summary-value"
                 th:text="'â‚© ' + ${#numbers.formatInteger(totalBalance, 3, 'COMMA')}">
                â‚© 1,024,000,000
            </div>
        </div>

        <div class="summary-card">
            <div class="summary-title">ì´ë²ˆ ë‹¬ ë‚©ì… ì˜ˆì •</div>
            <div class="summary-icon">ğŸ“…</div>
            <div class="summary-value"
                 th:text="'â‚© ' + ${#numbers.formatInteger(expectedThisMonth, 3, 'COMMA')}">
                â‚© 42,800,000
            </div>
        </div>

    </div>


    <!-- ìƒˆì†Œì‹ + ê³ ê°ì§€ì› -->
    <div class="section-row">

        <!-- ìƒˆì†Œì‹ -->
        <div style="flex:2;">
            <h3>ìƒˆì†Œì‹</h3>

            <div class="card-box">

                <div class="news-item">
                    <div><span class="tag-notice">ê³µì§€</span> ì¥ê¸° ë¯¸ì‚¬ìš©ê³„ì¢Œ ê¸°í•œí†µì§€ ì•ˆë‚´</div>
                    <div>2025-11-20</div>
                </div>

                <hr>

                <div class="news-item">
                    <div><span class="tag-notice">ê³µì§€</span> ì „ìì–´ìŒ ìˆ˜ìˆ˜ë£Œ ë³€ê²½ ì•ˆë‚´</div>
                    <div>2025-11-03</div>
                </div>

                <hr>

                <div class="news-item">
                    <div><span class="tag-notice">ê³µì§€</span> ë³´ì•ˆí”„ë¡œê·¸ë¨ ì˜¤ë¥˜ í•´ê²° (142ë²„ì „)</div>
                    <div>2025-10-31</div>
                </div>

                <hr>

                <div class="news-item">
                    <div>[ì¼ì‹œì¤‘ë‹¨] ì§€ë°©ì„¸ ì…ê¸ˆ ì—…ë¬´ ì¤‘ë‹¨ ì•ˆë‚´</div>
                    <div>2025-11-21</div>
                </div>

            </div>
        </div>

        <!-- ê³ ê°ì§€ì› -->
        <div style="flex:1;">
            <h3>ê³ ê°ì§€ì›</h3>

            <div class="support-card">
                <div class="support-item">ê¸°ì—…ë±…í‚¹ ì´ìš©ê°€ì´ë“œ</div>
                <div class="support-item">ìì£¼í•˜ëŠ” ì§ˆë¬¸</div>
                <div class="support-item">í‡´ì§ì—°ê¸ˆ ê³µì‹œ</div>
                <div class="support-item">ìˆ˜ìˆ˜ë£Œ ì•ˆë‚´</div>
                <div class="support-item">ì„œì‹ìë£Œì‹¤</div>
                <div class="support-item">ì•½ê´€ìë£Œì‹¤</div>
            </div>
        </div>

    </div>


    <!-- ê³ ê°ì„¼í„° -->
    <h3 style="margin-top:60px;">ê³ ê°ì„¼í„°</h3>

    <div class="contact-box">

        <div class="contact-col">
            <div class="contact-title">êµ­ë‚´</div>
            <div class="contact-number">1599-1111 / 1588-1111</div>
            <div style="color:#666;">í‰ì¼ 09:00 ~ 18:00</div>
        </div>

        <div class="contact-col">
            <div class="contact-title">í•´ì™¸</div>
            <div class="contact-number">+82-42-520-2500</div>
            <div style="color:#666;">í•´ì™¸ ë°œì‹ </div>
        </div>

        <div class="contact-col">
            <div class="contact-title">ì›ê²©ì§€ì›ìƒë‹´</div>
            <div style="color:#666;">í‰ì¼ 09:00 ~ 18:00</div>
        </div>

        <div class="contact-col" style="border-right:none;">
            <div class="contact-title">ì´ë©”ì¼ ìƒë‹´</div>
            <div style="color:#666;">365ì¼ 24ì‹œê°„</div>
        </div>

    </div>

</div>


<!-- ================= ìë™ì™„ì„± ìŠ¤í¬ë¦½íŠ¸ ================= -->
<script>
    const searchInput = document.getElementById("searchKeyword");
    const autoBox = document.getElementById("autoBox");
    const form = document.querySelector("form");

    let timer;

    searchInput.addEventListener("keyup", function () {
        clearTimeout(timer);
        timer = setTimeout(fetchAuto, 150);
    });

    searchInput.addEventListener("keydown", function (e) {
        if (e.key === "Enter") {
            const firstItem = document.querySelector(".auto-item");
            if (firstItem) {
                e.preventDefault();
                searchInput.value = firstItem.dataset.name;
                form.submit();
            }
        }
    });

    function fetchAuto() {
        const keyword = searchInput.value.trim();

        if (keyword.length === 0) {
            autoBox.style.display = "none";
            return;
        }

        fetch(`/BNK/corporate/employee/autocomplete?keyword=` + keyword)
            .then(res => res.json())
            .then(list => {

                if (list.length === 0) {
                    autoBox.style.display = "none";
                    return;
                }

                autoBox.innerHTML = "";

                list.forEach(item => {
                    const div = document.createElement("div");
                    div.classList.add("auto-item");
                    div.dataset.name = item.name;
                    div.innerHTML = `
                        <strong>${item.name}</strong><br>
                        <span style="font-size:13px;color:#666;">${item.accountNo}</span>
                    `;

                    div.addEventListener("click", () => {
                        searchInput.value = item.name;
                        autoBox.style.display = "none";
                        form.submit();
                    });

                    autoBox.appendChild(div);
                });

                autoBox.style.display = "block";
            });
    }
</script>

<!-- ğŸ”¥ í˜„ì¬ ë©”ë‰´ í™œì„±í™” -->
<script>
    initCorporateHeader("main");
</script>

</body>
</html>
